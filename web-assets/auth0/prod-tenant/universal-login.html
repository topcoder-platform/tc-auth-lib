<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Sign In with Topcoder</title>
    <link rel="shortcut icon" type="image/png" href="https://www.topcoder.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@500&display=swap" rel="stylesheet">
    <script type="text/javascript">
        var config = JSON.parse(decodeURIComponent(escape(window.atob('@@config@@'))));
        config.extraParams = config.extraParams || {};
        var newAccountAppApplicationId = 'UW7BhsnmAQh0itl56g1jUPisBO9GoowD';
        if (config.clientID === newAccountAppApplicationId) {
            var link = document.createElement("link");
            link.href = "https://tc-public-static-files.topcoder.com/topcoder-auth/css/custom.css";
            link.type = "text/css";
            link.rel = "stylesheet";
            link.media = "screen,print";
            document.getElementsByTagName("head")[0].appendChild(link);
        }
    </script>

    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MXXQHG8');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <div id='wrapper-container' class='page-wrapper'>
        <div class='row'>
            <div id="main-container" name="main-container" class="column signup-column">
                <div id="hiw-login-container" name="hiw-login-container"></div>
                <div id="member-signin-container" name="member-signin-container" style="display: none">
                    <div class="header">community</div>
                    <div class="title">WELCOME BACK!</div>
                </div>
                <div id="member-signup-container" name="member-signup-container" style="display: none">
                    <div class="header">community</div>
                    <div class="title">YOUR LIFE IS ABOUT <br /> TO GET AWESOME</div>
                </div>
                <div id="business-signin-container" name="business-signin-container" style="display: none">
                    <div class="header">customer</div>
                    <div class="title">WELCOME BACK</div>
                </div>
                <div id="business-signup-container" name="business-signup-container" style="display: none">
                    <div class="header">customer</div>
                    <div class="title">WE'RE CHANGING HOW <br /> THE WORLD WORKS</div>
                    <div class="body">JOIN US</div>
                </div>
            </div>
        </div>
    </div>



    <!--[if IE 8]>
<script src="//cdnjs.cloudflare.com/ajax/libs/ie8/0.2.5/ie8.js"></script>
<![endif]-->

    <!--[if lte IE 9]>
<script src="https://cdn.auth0.com/js/base64.js"></script>
<script src="https://cdn.auth0.com/js/es5-shim.min.js"></script>
<![endif]-->

    <script src="https://cdn.auth0.com/js/lock/11.30/lock.min.js"></script>
    <script language="javascript" type="text/javascript"
        src="https://tc-public-static-files.topcoder.com/topcoder-auth/js/country.js"></script>
    <script>
        // Decode utf8 characters properly
        var connection = config.connection;
        var prompt = config.prompt;
        var languageDictionary;
        var language;
        var optionsObj = Array();
        var primaryRoleOptionsObj = [{
            label: 'Talent - join as a community member',
            value: 'Topcoder Talent'
        }, {
            label: 'Customer - join to get work done',
            value: 'Topcoder Customer'
        }];
        var regSource = config.extraParams.reg_source || null;
        var utmSource = config.extraParams.utm_source || null;
        var utmMedium = config.extraParams.utm_medium || null;
        var utmCampaign = config.extraParams.utm_campaign || null;
        var retUrl = config.extraParams.returnUrl || null;
        var loginMode = config.extraParams.mode || 'signIn';

        if (config.dict && config.dict.signin && config.dict.signin.title) {
            languageDictionary = { title: config.dict.signin.title };
        } else if (typeof config.dict === 'string') {
            language = config.dict;
        }
        var loginHint = config.extraParams.login_hint;

        //sachin new-auth-flow
        var colors = config.colors || {};
        var newAuthConnections = ['Account-App-New-Flow', 'google-oauth2', 'github', 'wipro-adfs', 'Zurich', 'CreditSuisse'];
        if (config.clientID === newAccountAppApplicationId) {
            languageDictionary = {
                title: "Topcoder Login",
                error: {
                    login: {
                        'lock.fallback': "We're sorry, something went wrong when attempting to log in.",
                      	'deactivated_account': "Account is deactivated"
                    },
                    signUp: {
                        "lock.fallback": "We're sorry, something went wrong when attempting to sign up.",
                        "handle_invalid_space": "Handle may not contain a space",
                        "handle_invalid_length": "Length of Handle in character should be between 2 and 15",
                        "handle_invalid_startwith_admin": "Please choose another handle, not starting with admin",
                        "handle_invalid_constains_forbidden_char": "Handle may contain only letters, numbers and -_.{}[]",
                        "handle_invalid_conatins_only_punctuation": "Handle may not contain only punctuation",
                        "user_exists": "The user already exists."
                    }
                },
                title: 'Topcoder Login',
                emailInputPlaceholder: 'Email',
                passwordInputPlaceholder: 'Password',
                signUpTerms: 'Yes, I understand and agree to the <a href="https://www.topcoder.com/policy/privacy-policy" target="_new"">Privacy Policy</a> and <a href="https://www.topcoder.com/policy/terms-and-conditions"  target="_new">Terms</a> of Topcoder.',
                signUpTitle: 'Join Topcoder',
                signUpLabel: 'Sign Up',
                signUpSubmitLabel: 'Sign Up',
                signUpWithLabel: '%s',
                loginLabel: 'Log In',
                loginSubmitLabel: 'Log In',
                loginWithLabel: '%s',
                usernameInputPlaceholder: 'Create a Username / Handle',
                usernameOrEmailInputPlaceholder: 'Username / Handle',
                forgotPasswordAction: 'Forgot your password?'
            };
            switch (utmSource) {
                case "wipro":
                    connection = "wipro-azuread";
                    break;
                case "zurich":
                    connection = "Zurich";
                    break;
                case "cs":
                    connection = "CreditSuisse";
                    break;
                case "topgear":
                    connection = "wipro-azuread";
                    break;
                case "test":
                    connection = "wipro-azuread";
                    break;
                default:
                    break;
            }
            if (config.authorizationServer.issuer === 'https://auth.topcoder.com/') {
                newAuthConnections = ['Account-App-New-Flow', 'google-oauth2', 'github2', 'wipro-azuread', 'Zurich', 'CreditSuisse'];
            }
        }

        countryObjs.forEach(function (item) {
            var value = JSON.stringify(item);
            var name = item.name;
            optionsObj.push({ label: name, value: value });
        });
        // new-auth-flow end


        // Define different lock config snips here, they can be combined later
        let lockConfigs = {
            auth0_template: {
                auth: {
                    redirectUrl: config.callbackURL,
                    responseType: (config.internalOptions || {}).response_type ||
                        (config.callbackOnLocationHash ? 'token' : 'code'),
                    params: config.internalOptions
                },
                assetsUrl: config.assetsUrl,
                allowedConnections: connection ? [connection] : null,
                rememberLastLogin: !prompt,
                language: language,
                languageDictionary: languageDictionary,
                theme: {
                    //logo:            'YOUR LOGO HERE',
                    //primaryColor:    'green'
                },
                prefill: loginHint ? { email: loginHint, username: loginHint } : null,
                closable: false,
                defaultADUsernameFromEmailPrefix: false,
                // uncomment if you want small buttons for social providers
                socialButtonStyle: 'small'
            },
            tc_standard: {
                allowedConnections: ['TC-User-Database', 'github', 'google-oauth2', 'wipro-adfs', 'wipro-azuread', 'Verified-User-Database','TopcoderProductionGoogleWorkspace'],
                theme: {
                    logo: 'https://i.imgur.com/IY6TVjY.png',
                    primaryColor: '#137d60'
                },
                allowSignUp: false,
                languageDictionary: {
                    emailInputPlaceholder: 'coder@topcoder.com',
                    usernameInputPlaceholder: 'Topcoder Username',
                    title: "Topcoder"
                },
                allowForgotPassword: false,
                usernameStyle: 'username',
                overrides: {
                    __tenant: config.auth0Tenant,
                    __token_issuer: config.authorizationServer.issuer
                }
            },
            aha: {
                allowedConnections: ['TC-User-Database', 'github', 'google-oauth2', 'wipro-adfs', 'wipro-azuread', 'Verified-User-Database'],
                theme: {
                    logo: 'https://i.imgur.com/CEU3plH.png',
                    primaryColor: '#07a8f2'
                },
                allowSignUp: false,
                languageDictionary: {
                    emailInputPlaceholder: 'coder@topcoder.com',
                    usernameInputPlaceholder: 'Topcoder Username',
                    title: "Topcoder"
                },
                allowForgotPassword: false,
                usernameStyle: 'username'
            },
            tc_chat: {
                allowedConnections: ['TC-User-Database'],
                theme: {
                    logo: 'https://i.imgur.com/CEU3plH.png',
                    primaryColor: '#07a8f2'
                },
                allowSignUp: false,
                languageDictionary: {
                    emailInputPlaceholder: 'coder@topcoder.com',
                    usernameInputPlaceholder: 'Topcoder Username',
                    title: "Topcoder"
                },
                allowForgotPassword: true,
                usernameStyle: 'username'
            },
            tc_new_auth: {
                container: 'hiw-login-container',
                auth: {
                    redirectUrl: config.callbackURL,
                    responseType: (config.internalOptions || {}).response_type ||
                        (config.callbackOnLocationHash ? 'token' : 'code'),
                    params: config.internalOptions
                },
                /* additional configuration needed for custom domains */
                configurationBaseUrl: config.clientConfigurationBaseUrl,
                overrides: {
                    __tenant: config.auth0Tenant,
                    __token_issuer: config.authorizationServer.issuer
                },
                // end custom domain changes 

                assetsUrl: config.assetsUrl,
                allowedConnections: connection ? [connection] : newAuthConnections,
                //allowedConnections: ['accounts-login', 'facebook','google-oauth2', 'twitter', 'github', 'wipro-adfs', 'Zurich'],
                rememberLastLogin: !prompt,
                language: language,
                languageDictionary: languageDictionary,
                theme: {
                    logo: 'https://tc-public-static-files.topcoder.com/shared/images/logo/topcoder-image-only.png',
                    primaryColor: '#137D60',
                    authButtons: {
                        "github2": {
                            displayName: "Github",
                            primaryColor: "white",
                            foregroundColor: "#555555",
                            icon: "https://tc-public-static-files.topcoder.com/shared/images/logo/github.svg"
                        },
                        "google-oauth2": {
                            displayName: "Google",
                            primaryColor: "white",
                            foregroundColor: "#555555",
                            icon: 'https://tc-public-static-files.topcoder.com/shared/images/logo/google.svg'
                        }
                    }
                },
                prefill: loginHint ? { email: loginHint, username: loginHint } : null,
                closable: false,
                defaultADUsernameFromEmailPrefix: false,
                socialButtonStyle: 'small',
                allowShowPassword: true,
                allowSignUp: true,
                allowForgotPassword: true,
                initialScreen: loginMode,
                avatar: null,
                mustAcceptTerms: true,
                additionalSignUpFields: [
                    {
                        type: "hidden",
                        name: "reg_source",
                        value: regSource
                    },
                    {
                        type: "hidden",
                        name: "returnUrl",
                        value: retUrl
                    },
                    {
                        type: "hidden",
                        name: "utm_source",
                        value: utmSource
                    },
                    {
                        type: "hidden",
                        name: "utm_medium",
                        value: utmMedium
                    },
                    {
                        type: "hidden",
                        name: "utm_campaign",
                        value: utmCampaign
                    },
                    {
                        name: "firstName",
                        placeholder: "First Name",
                        validator: function (firstName) {
                            return {
                                valid: firstName.trim().length >= 2,
                                hint: "Must have 2 or more chars, blank spaces not allowed" // optional
                            };
                        }
                    },
                    {
                        name: "lastName",
                        placeholder: "Last Name",
                        validator: function (lastName) {
                            return {
                                valid: lastName.trim().length >= 2,
                                hint: "Must have 2 or more chars, blank spaces not allowed" // optional
                            };
                        }
                    },
                    {
                        type: "select",
                        name: "primaryRole",
                        placeholder: "Select your role",
                        options: primaryRoleOptionsObj,
                      	fieldLabel: 'The role you select maybe changed in your Profile Settings.',
                      	fieldPlaceholder: 'Talent join to learn, complete, connect and find freelance gig work. Customers join to launch challenges, find freelancers, and get work done.'
                    },
                    {
                        type: "select",
                        name: "country",
                        placeholder: "Select your country (current location)",
                        options: optionsObj,
                        // The following properties are optional
                        prefill: "us"
                    }
                ]
            }
        };

        let lockConfig = lockConfigs.auth0_template;

        function updateLockConfig(config) {
            lockConfig = Object.assign(lockConfig, lockConfigs[config]);
        }

        // This will be the default (if nothing is specifically defined below)
        updateLockConfig('tc_standard');

        // You can call updateLockConfig multiple times in these clauses, each one will overwrite or add to previous config values
        // For example you start with tc_standard and modify from there
        if (config.extraParams.mode === 'tc-standard') {
            updateLockConfig('tc_standard');
        }

        if (config.extraParams.source === 'aha') {
            updateLockConfig('tc_standard');
        }

        if (config.extraParams.source === 'tc-chat') {
            updateLockConfig('tc_chat');
        }

        if (config.clientID === newAccountAppApplicationId) {
            updateLockConfig('tc_new_auth');
        }

        // This one is for Heap SSO login page
        //   if (config.clientID === 'MRTxvos7xS7l403oQP0Wqg6k3Cu0yXCD') {
        //     updateLockConfig('tc_standard');
        //  }

        var lock = new Auth0Lock(config.clientID, config.auth0Domain, lockConfig);

        // Lock will emit events during its lifecycle. The on method can be used to listen for particular events and react to them.

        lock.on('show', function () {
            updateHeaderStyle();
        });

        lock.on('signin ready', function () {
            var mediaQuery = window.matchMedia('(min-width: 1156px)');
            updateSignIn(regSource);
            mediaQuery.addListener(updateSignIn);
        });

        lock.on('signup ready', function () {
            var mediaQuery = window.matchMedia('(min-width: 1156px)');
            updateSignUp(regSource);
            mediaQuery.addListener(updateSignUp);
            try {
                const firstNameDiv =
                    document.getElementById("1-firstName").parentNode.parentNode;
                const lastNameDiv =
                    document.getElementById("1-lastName").parentNode.parentNode;
                const emailDiv = document.getElementById("1-email").parentNode.parentNode;
                emailDiv.parentNode.insertBefore(firstNameDiv, emailDiv);
                emailDiv.parentNode.insertBefore(lastNameDiv, emailDiv);
                try {
                    document.getElementsByName("password")[0].placeholder = "Create a Password";
                    //document.getElementById("1-country").value = "Select your country (current location)";
                } catch (e) {
                    console.log("Error occured in changing placeholder text", e);
                }
            } catch (e) {
                console.log("Error occured in form re-ordering", e);
            }
        });

        lock.show();

        function updateHeaderStyle() {
            var header = document.getElementsByClassName('auth0-lock-header-bg-solid');
            if (header.length > 0) {
                header[0].removeAttribute('style');
            }
        }

        function updateSignIn(regSource) {
            var mediaQuery = window.matchMedia('(min-width: 1156px)');
            var mainContainer = document.getElementById('main-container');
            var memberSignInContainer = document.getElementById('member-signin-container');
            var memberSignUpContainer = document.getElementById('member-signup-container');
            var businessSignInContainer = document.getElementById('business-signin-container');
            var businessSignUpContainer = document.getElementById('business-signup-container');

            memberSignInContainer.style.display = 'none';
            memberSignUpContainer.style.display = 'none';
            businessSignInContainer.style.display = 'none';
            businessSignUpContainer.style.display = 'none';

            if (mediaQuery != undefined && mediaQuery.matches === true) {
                if (regSource === 'tcBusiness' || regSource === 'taasApp' || regSource === 'selfService') {
                    mainContainer.classList.add('business-column', 'business-signin');
                    mainContainer.classList.remove('business-signup');
                    businessSignInContainer.style.display = 'block';
                    businessSignUpContainer.style.display = 'none';
                } else {
                    mainContainer.classList.add('member-column', 'member-signin');
                    mainContainer.classList.remove('member-signup');
                    memberSignInContainer.style.display = 'block';
                    memberSignUpContainer.style.display = 'none';
                }
            }
        }

        function updateSignUp(regSource) {
            var mediaQuery = window.matchMedia('(min-width: 1156px)');
            var mainContainer = document.getElementById('main-container');
            var memberSignInContainer = document.getElementById('member-signin-container');
            var memberSignUpContainer = document.getElementById('member-signup-container');
            var businessSignInContainer = document.getElementById('business-signin-container');
            var businessSignUpContainer = document.getElementById('business-signup-container');

            memberSignInContainer.style.display = 'none';
            memberSignUpContainer.style.display = 'none';
            businessSignInContainer.style.display = 'none';
            businessSignUpContainer.style.display = 'none';

            if (mediaQuery != undefined && mediaQuery.matches === true) {

                if (regSource === 'tcBusiness' || regSource === 'taasApp' || regSource === 'selfService') {
                    mainContainer.classList.add('business-column', 'business-signup');
                    mainContainer.classList.remove('business-signin');
                    businessSignInContainer.style.display = 'none';
                    businessSignUpContainer.style.display = 'block';
                } else {
                    mainContainer.classList.add('member-column', 'member-signup');
                    mainContainer.classList.remove('member-signin');
                    memberSignInContainer.style.display = 'none';
                    memberSignUpContainer.style.display = 'block';
                }
            }
        }

    </script>
    <script>
        !function () {
            var analytics = window.analytics = window.analytics || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {
                analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on", "addSourceMiddleware", "addIntegrationMiddleware", "setAnonymousId", "addDestinationMiddleware"]; analytics.factory = function (e) { return function () { var t = Array.prototype.slice.call(arguments); t.unshift(e); analytics.push(t); return analytics } }; for (var e = 0; e < analytics.methods.length; e++) { var key = analytics.methods[e]; analytics[key] = analytics.factory(key) } analytics.load = function (key, e) { var t = document.createElement("script"); t.type = "text/javascript"; t.async = !0; t.src = "https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(t, n); analytics._loadOptions = e }; analytics._writeKey = "ti8hUmZ1P9BJ73vUVM3CEe0iJCuvzMCY"; analytics.SNIPPET_VERSION = "4.13.2";
                analytics.load("ti8hUmZ1P9BJ73vUVM3CEe0iJCuvzMCY");
                analytics.page();
            }
        }();
    </script>

</body>

</html>